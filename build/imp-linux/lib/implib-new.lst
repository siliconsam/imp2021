         Edinburgh IMP77 Compiler - Version 8.4

   1  {----------------------------------------------------------------------------}
   2      !
   3      ! NEW/DISPOSE routines used to acquire/free heap variables
   4      ! NEW/DISPOSE routines based on C library malloc/free routines
   5      !
   6      ! declare heap access routines
   7      !
   8      %external %record(*) %map New ( %name Template )
   9  
   10          %external %record(*) %map %spec impmalloc %alias "malloc" ( %integer s )
   11  
   12          %record(*) %name Res
   13          %integer Bytes = (Size Of(Template)+3) & (\3) {round to longword}
   14  
   15          Res == impmalloc(Bytes)
   16  
   17          %result == Res
   18      %end
   19  
   20  {----------------------------------------------------------------------------}
   21  %endoffile

   8 Statements compiled
