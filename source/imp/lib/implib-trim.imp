{----------------------------------------------------------------------------}
    %external %string(255) %function trim(%string(255) s, %integer max)

        ! Do some defensive error checking first
        %signal 6, 2, max %if max < 0

        ! tweak our parameter and return it
        %if length(s) > max %then length(s) = max

        %result = s
    %end

{----------------------------------------------------------------------------}
%endoffile
